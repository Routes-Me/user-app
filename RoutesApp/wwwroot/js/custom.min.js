var isPhone = !1, isEmail = !1; let timerOn = !0; var myTimer, remaining = 0; function clearValues() { $(".txt-name").val(""), $(".txt-username").val(""), $(".txt-password").val(""), $(".txt-otp").val(""), $(".signup-submit").addClass("disabled"), $(".signup-submit span").addClass("d-none") } function checkValues() { var e = $(".txt-name").val(), o = $(".txt-username").val(), n = $(".txt-password").val(), t = $(".txt-otp").val(); /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(o) ? isEmail = !0 : /^\d+$/.test(o) && (isPhone = !0), "/" == window.location.pathname ? isEmail ? "" != o && "" != n && n.length >= 4 ? $(".signin-submit").removeClass("disabled") : $(".signin-submit").addClass("disabled") : isPhone && ("" != o && "" != t && t.length >= 6 ? $(".signin-submit").removeClass("disabled") : $(".signin-submit").addClass("disabled")) : isEmail ? "" != e && "" != o && "" != n && n.length >= 4 ? $(".signup-submit").removeClass("disabled") : $(".signup-submit").addClass("disabled") : isPhone && ("" != e && "" != o && "" != t && t.length >= 6 ? $(".signup-submit").removeClass("disabled") : $(".signup-submit").addClass("disabled")) } function checkEmailOrPhone() { var e = $(".txt-username").val(); /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e) ? isEmail = !0 : /^\d+$/.test(e) && (isPhone = !0) } function timer(e) { var o = Math.floor(e / 60), n = e % 60; if (o = o < 10 ? "0" + o : o, n = n < 10 ? "0" + n : n, document.getElementById("otpbox").placeholder = "Enter otp " + o + ":" + n, (e -= 1) >= 0 && timerOn) return myTimer = setTimeout(function () { timer(e) }, 1e3); timerOn && (document.getElementById("otpbox").placeholder = "Enter otp", $("#resendotp").removeClass("d-none")) } function stopTimer() { clearTimeout(myTimer), null != document.getElementById("otpbox") && (document.getElementById("otpbox").placeholder = "Enter otp"), $(".otp-send-success").addClass("d-none") } function GenerateQRCode(e) { $("#parantcode").append('<div id="qrcode" class="d-none"></div>'); var o = new QRCode(document.getElementById("qrcode"), { text: e, width: 128, height: 128, colorDark: "#000000", colorLight: "#ffffff", correctLevel: QRCode.CorrectLevel.H })._el.childNodes[0].toDataURL(); return $("#qrcode").remove(), o } function displayPopupModel(e) { $(".display-message").text(e), $("#popupModel").modal() } function ParseJWT(e) { var o = e.split(".")[1].replace(/-/g, "+").replace(/_/g, "/"); return decodeURIComponent(atob(o).split("").map(function (e) { return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2) }).join("")) } function removeModelBackdrop() { $("#popupModel").modal("hide"), $("body").removeClass("modal-open"), $(".modal-backdrop").remove() } function enableSubmit() { var e = $("#resetpassword").val(), o = $("#resetpasswordconfirm").val(); "" != e && "" != o ? $(".reset-submit").removeClass("disabled") : $(".reset-submit").addClass("disabled") } function enableSubmitForPromotion() { "" != $("#promotioncode").val() ? $(".promotion-code-submit").removeClass("disabled") : $(".promotion-code-submit").addClass("disabled") } $(document).on("click", ".icon-eye i, .signin-icon-eye i", function (e) { var o = $(".txt-password"); "" != o && ("password" === o.attr("type") ? o.attr("type", "text") : o.attr("type", "password")) }), $(document).on("click", ".signup-submit, .signin-submit", function (e) { $(".loader").removeClass("d-none") }), $(document).on("keyup", ".txt-name, .txt-otp", function (e) { checkValues() }), $(document).on("keyup", ".txt-password", function (e) { "" != $(this).val() ? $(".icon-eye").removeClass("d-none") : $(".icon-eye").addClass("d-none"), checkValues() }), $(document).on("keyup", ".txt-username", function (e) { if (checkEmailOrPhone(), isPhone) { var o = $(this).val(); (o = 10 != o.length) && stopTimer() } checkValues() }), $(document).on("change", ".txt-username", function (e) { checkEmailOrPhone() }), $(document).on("keyup", ".reset-email", function (e) { "" != $(this).val() ? $(".forgot-password-submit").removeClass("disabled") : $(".forgot-password-submit").addClass("disabled") }), $(document).on("keyup", ".pin-box", function (e) { $(this).val().length >= 4 && 0 == $(".btn-redeem").hasClass("expired-offer") ? $(".btn-redeem").removeClass("disabled") : $(".btn-redeem").addClass("disabled") }), $(".pin-box").on("keydown", function (e) { 8 !== e.keyCode && 8 !== e.which && 46 != e.keyCode && 46 != e.which || e.preventDefault() }), $(document).on("keyup", "#resetpassword", function (e) { enableSubmit() }), $(document).on("keyup", "#resetpasswordconfirm", function (e) { enableSubmit() }), $(document).on("click", ".qr-code-scanner", function () { $(".main-container-section").addClass("d-none"), $(".qr-code-scanner-container").removeClass("d-none"), $("#reader").removeClass("d-none") }), $(document).on("click", ".promotion-user-input .promotioncode", function () { $("#popupModelForPromotionCode").modal() }), $(document).on("click", ".back-to-mainpage a", function () { $(".main-container-section").removeClass("d-none"), $("#reader").addClass("d-none"), $(".qr-code-scanner-container").addClass("d-none") }), $(document).on("keyup", "#promotioncode", function (e) { enableSubmitForPromotion() });